import { Meta, Story, Preview } from '@storybook/addon-docs/blocks'
import * as stories from '../sdk.js'

<Meta title='SpeechKit JS/SDK' />

# Player SDK

To initialise a new instance of the player, add

<Story name='PlayerWithUi' height='60px'>{() => stories.playerWithUi()}</Story>

```js
const { sdk } = SpeechKit;
sdk.player({
  projectId: "6673",
  // One of the following parameters has to be provided
  podcastId: "534513",
  articleUrl: "...",
  externalId: "...",
  // Player UI can be disabled
  UIEnabled: false,
}).then(appInst => {
  // Binding to methods and events can be implemented here (see below)
  // your interface for getting the states of player
  window.YourApp = {
    // Determine if the player is currently paused
    paused() {
      const result = appInst.paused()
      logs(`fn_paused() -> ${result}`)
    },
    // Get the currentTime (in seconds)
    currentTime() {
      const result = appInst.currentTime()
      logs(`fn_currentTime() -> ${result}`)
    },
    // Get the total duration of the audio
    duration() {
      const result = appInst.duration()
      logs(`fn_duration() -> ${result}`)
    },
    // Get the remaining time of the audio
    remainingTime() {
      const result = appInst.remainingTime()
      logs(`fn_remainingTime() -> ${result}`)
    },
  }
  // Player event handlers
  appInst.events.on(SpeechKit.sdk.Events.play, dataEvent => {
    console.log(`on -> ${SpeechKit.sdk.Events.play} -> `, dataEvent)
  })
  appInst.events.on(SpeechKit.sdk.Events.pause, dataEvent => {
    console.log(`on -> ${SpeechKit.sdk.Events.pause} -> `, dataEvent)
  })
  appInst.events.on(SpeechKit.sdk.Events.timeupdate, dataEvent => {
    console.log(`on -> ${SpeechKit.sdk.Events.timeupdate} -> `, dataEvent)
  })
  appInst.events.on(SpeechKit.sdk.Events.ended, () => {
    console.log(`on -> ${SpeechKit.sdk.Events.ended}`)
  })
  appInst.events.on(SpeechKit.sdk.Events.playbackRate, dataEvent => {
    console.log(`on -> ${SpeechKit.sdk.Events.playbackRate} -> `, dataEvent)
  })
});
```

# Player SDK without UI

To initialise a new instance of the player, add parameter `UIEnabled: false`

<Story name='PlayerWithoutUi' height='60px'>
  {() => stories.playerWithoutUi()}
</Story>
